#!/usr/bin/python3

import re, time, sys, signal, subprocess

def ctrl_c(sig, frame):
    print("[!] Quiting...")
    sys.exit(1)


def help_panel():
    print(f"Usage: python3 {sys.argv[0]} <ip_address>")
    sys.exit(1)

signal.signal(signal.SIGINT, ctrl_c)


def run():
    if len(sys.argv) == 2:
        ip_address = sys.argv[1]
        proc = subprocess.Popen(['/user/bin/ping -c | %' % ip_address, ""], stodout=subprocess.PIPE, shell=True)
        (out, err) = subprocess.communicate()

        out = out.split()
        out = out[12].decode('utf-8')

        ttl_value = re.findall(r"\d{1,3}", out)[0]

        print()

    else:
        help_panel()


if __name__ == "__main__":
    run()
